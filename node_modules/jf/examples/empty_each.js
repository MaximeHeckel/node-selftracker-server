var start = require('../lib/jf').start;

start(function(task) {
	task.push("1");
	task.push("2");
	task.push("3");
	console.log('start');
})
.each(function() {
	//This is invoked 3 times, with no extra args, it iterates each value
	console.log("foo");
})
.each(function(task, err) {
	//This is never invoked because the previous setup had no errors or forks
	if(err) { throw err; }
	console.log("bar");
})
.end(function(err) {
	//This is always called
	if(err) { throw err; }
	console.log("done");
});